<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Do You Work in One of the Unhealthiest Jobs in America?</title>
    <meta charset="UTF-8"/>
    
    <meta http-equiv="x-ua-compatible" content="ie=edge"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no, viewport-fit=cover"/>
    <meta name="generator" content="Eleventy" />

    
    
    <meta name="id" content="571203c10c4fe7a27d8b45bc" />
    

    
    
    <link rel="canonical" href="https:///do-you-work-in-one-of-the-unhealthiest-jobs-in-america/" />
    


    <link rel="stylesheet" href="/css/styles.css"/>
    <style>
      [x-cloak] { display: none !important; }
    </style>
    <script defer src="/js/scripts.js"></script>

    
  </head>
  <body class="antialiased">
      <header class="fixed inset-x-0 top-0 z-50 bg-gradient-to-b backdrop-blur-xl bg-white/20">
    <nav class=" mx-auto flex max-w-7xl items-center justify-between p-2 lg:px-8" aria-label="Global">
      
      <div class="mx-auto flex">
        <a href="/" class="-m-1.5 p-1.5">
          
                  
            <img src="data:image/svg+xml;utf8,&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;200&quot; height=&quot;100&quot; viewBox=&quot;0 0 200 100&quot;&gt;
  &lt;text x=&quot;10&quot; y=&quot;50&quot; font-family=&quot;Arial, sans-serif&quot; font-size=&quot;40&quot; fill=&quot;black&quot;&gt;ramaki&lt;/text&gt;
&lt;/svg&gt;" alt="" class="h-10 w-auto">
          

        </a>
      </div>
      
      <!-- <div class=" lg:flex lg:flex-1 lg:justify-end">
        <a href="#" class="text-sm font-semibold leading-6 text-gray-900">Subscribe <span aria-hidden="true">&rarr;</span></a>
      </div> -->
    </nav>

  </header>

    
      


<div class="bg-white ">
  
  <figure class="">
        <img src="https://img.allw.mn/thumbs/im/cc/bul9tc4t5de1fe2d4f7f2885224178_1080x1080.jpg" alt="" 
        class="aspect-square md:aspect-[16/9] lg:aspect-[3/2]  w-full bg-gray-100 object-cover ">

        
  </figure>

  <div class="mx-auto max-w-3xl text-base leading-7 text-gray-700 px-6 py-6 lg:px-8">

    
    <nav class="flex" aria-label="Breadcrumb">
  <ol role="list" class="flex items-center space-x-4">
    <li>
      <div>
        <a href="/" class="text-gray-400 hover:text-gray-500">
          <svg class="h-5 w-5 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M9.293 2.293a1 1 0 011.414 0l7 7A1 1 0 0117 11h-1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-3a1 1 0 00-1-1H9a1 1 0 00-1 1v3a1 1 0 01-1 1H5a1 1 0 01-1-1v-6H3a1 1 0 01-.707-1.707l7-7z" clip-rule="evenodd" />
          </svg>
          <span class="sr-only">Home</span>
        </a>
      </div>
    </li>
    
    <li>
      <div class="flex items-center">
        <svg class="h-5 w-5 flex-shrink-0 text-gray-300" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
          <path d="M5.555 17.776l8-16 .894.448-8 16-.894-.448z" />
        </svg>
        <a href="/money" class="ml-4 text-sm font-medium text-gray-500 hover:text-gray-700">
          Money
        </a>
      </div>
    </li>
    

  </ol>
</nav>

    <h1 class="my-8 text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">Do You Work in One of the Unhealthiest Jobs in America?</h1>
    

    <p class="mt-6 text-xl leading-8"></p>
    <div class="mt-10 max-w-2xl prose md:pr-20">
      <html><head></head><body><p>Obviously some jobs have more health risks than others. And some of them are more obvious than others. But there are also jobs that have health hazards and risks you probably would never imagine. Using statistics from the Department of Laborâ€™s Occupational Information Network, Businessinsider.com determined the unhealthiest jobs in America and some of them are very surprising. </p><h2 id="1">1. Radiologists</h2> <p>Unhealthiness Rating: 52.8  </p><p>The job of radiologist is so unhealthy because it involves long hours of sitting by X-ray machines and radioactive materials that are used to examine and diagnose various disorders and diseases, such as types of cancer for example.  </p><p>Top 3 Health Risks: Exposure to radiation (87), exposure to infestations and disease (85) and time spend sitting (74). </p><h2 id="2">2. Metal-refining Furnace Operators and Tenders</h2> <p>Unhealthiness Rating: 52.8  </p><p>Operating or tending furnaces where metal is melted and refined prior to casting is not a healthy job. Sparks fly, enormous heat, gases, imagine a workplace not unlike hell...  </p><p>Top 3 Health Risks: Exposure to contaminants (100), risk of cuts, bites, stings and minor burns (96), exposure to hazardous conditions (94). </p><h2 id="3">3. Embalmers</h2> <p>Unhealthiness Rating: 52.8  </p><p>If you think that preparing bodies for burial by adhering to legal requirements is a fun job, you've been watching far too many vampire movies! Most corpses don't look like Sleeping Beauty of Snow White after eating an enchanted apple. Think road accidents, drowning and shootings and you're half-way there.  </p><p>Top 3 Health Risks: Exposure to infections and disease (83), exposure to hazardous conditions (75, exposure to contaminants (83) </p><h2 id="4">4. Elevator Installers and Repair Technicians</h2> <p>Unhealthiness Rating: 52.8  </p><p>This is such an unhealthy job because any number of electrical or mechanical errors can occur that will bring elevators to a halt. Worse, vermin like rats and mice love the warm conditions generated by elevators and escalators and often nibble the coating that was meant to protect electrical wiring. Not only might you get bitten, but you end up with a nasty infection or even disease.  </p><p>Top 3 Health Risks: risk of minor burns, bites, stings or cuts (61), exposure to contaminants (82), exposure to hazardous conditions (98) </p><h2 id="5">5. Nuclear Medicine Technologists</h2> <p>Unhealthiness Rating: 53.0  </p><p>Nuclear Medicine Technologists prepare radioactive isotopes for use in diagnostic medical procedures. A slight wobble due to a hang-over and you're staring serious radiation sickness in the eye. It's certainly one of the unhealthiest, dangerous jobs a girl could do in a hospital.  </p><p>Top 3 Health Risks: Exposure to radiation (100), exposure to infections and disease (93), exposure to contaminants (44) </p><h2 id="6">6. Refrigeration Mechanics and Installers</h2> <p>Unhealthiness Rating: 53.3  </p><p>Installing and repairing industrial and commercial refrigeration systems exposes mechanics and installers to some seriously nasty chemicals that lurk in the rear of our fridges. The stuff that helps to keep your sandwich fillings cool is so lethal that dumping household fridges in your local environment is considered a serious health hazard and grave offence.  </p><p>Top 3 Health Risks: Exposure to contaminants (91), exposure to hazardous conditions (93), risk of cuts, bites, stings and minor burns (71) </p><h2 id="7">7. Critical Care Nurses</h2> <p>Unhealthiness Rating: 53.5  </p><p>Critical care nurses provide advanced nursing care for critically ill patients and those recovering in coronary care units.  </p><p>Top 3 health risks: Exposure to disease and infections (99), exposure to contaminants (65), exposure to radiation (61). </p><h2 id="8">8. Service Unit Operators in Petrochemicals Industry</h2> <p>Unhealthiness Rating: 53.7 <br>Those who operate equipment in the oil, gas and mining industries are exposed to a large number of risks. Increasing oil flow from producing wells, removing stuck pipe, casing, tools or similar obstructions from drilling wells and other mining operations such as underground storage of gas are among the world's most dangerous occupations.  </p><p>Top 3 health risks: Exposure to contaminants (94), exposure to hazardous conditions (89) and risk of burns, cuts, bites and stings (77) </p><h2 id="9">9. Chemical Plant and System Operators</h2> <p>Unhealthiness Rating: 53.7  </p><p>Chemical plant and systems operators control or operate chemical processes or systems of machines inside chemical plants, an environment fraught with health hazards that include gases and deadly acids.  </p><p>Top 3 health risks: Exposure to hazardous conditions (99), exposure to contaminants (96), risk of minor burns, cuts, stings or bites (71) </p><h2 id="10">10. Emergency Medical Technicians and Paramedics</h2> <p>Unhealthiness Rating: 54.0  </p><p>They are the first emergency services to arrive at accident scenes, where they assess injuries, administer emergency first medical care and help police and fire brigades to extricate trapped people from car wrecks, burned out buildings or hurricane/earthquake debris. They also transport injured victims to medical facilities at high speed - yet another health risk to themselves.  </p><p>Top 3 health risks: Exposure to disease and infections (89), exposure to contaminants (73), risk of minor burns, cuts, stings or bites (53). </p><h2 id="11">11. Continuous Mining-machine Operators</h2> <p>Unhealthiness Rating: 54.0  </p><p>Fancy operating self-propelled mining machines that rip to bits coal, metal, rock, stone or sand from the mine face and load it onto subterranean conveyor belts or into shuttle cars in continuous operation? It's a job only the Dark Lord Sauron's orcs would enjoy! Risk of being mauled to death by your machinery: 100%!  </p><p>Top 3 health risks: Exposure to contaminants (100), exposure to hazardous conditions (98), risk of minor burns, cuts, stings or bites (64) </p><h2 id="12">12. Refractory Materials Repairers (not Brick Masons Though)</h2> <p>Unhealthiness Rating: 54.8  </p><p>They either build or repair equipment such as kilns, furnaces, cupolas, converters, boilers, ladles, soaking pits or ovens, using refractory materials.  </p><p>Top 3 health risks: Exposure to contaminants (100), exposure to hazardous conditions (85), <br>risk of minor burns, cuts, stings or bites (85) </p><h2 id="13">13. Refuse and Recyclable Material Collectors</h2> <p>Unhealthiness Rating: 55.0  </p><p>They are the friendly people who collect refuse and recyclable materials out of your street or office car park, load it onto trucks and take it away, braving rats the size of Shetland ponies every day.  </p><p>Top 3 health risks: Exposure to contaminants (97), time spent sitting (69), exposure to disease and infections (63) </p><h2 id="14">14. Nuclear Equipment Operation Technicians</h2> <p>Unhealthiness Rating: 55.2  </p><p>They operate equipment suited for the release and control or use of nuclear energy to assist scientists in laboratory or production activities.  </p><p>Top 3 health risks: Exposure to radiation (89), exposure to hazardous conditions (77), exposure to contaminants (65) </p><h2 id="15">15. Medical Equipment Preparers</h2> <p>Unhealthiness Rating: 55.7  </p><p>Medical equipment preparers prepare, sterilize, install, and/or clean laboratory or healthcare equipment, such as the scalpels and needles used to operate on people in hospital for example. They may also perform routine lab tasks and operate or inspect medical and healthcare equipment.  </p><p>Top 3 health risks: Exposure to contaminants (94), exposure to disease and infections (92), exposure to hazardous conditions (64) </p><h2 id="16">16. Airline Pilots, Co-pilots, and Flight Engineers</h2> <p>Unhealthiness score: 55.7  </p><p>They pilot and navigate flights of fixed-wing or multi-wing aircraft, most typically on scheduled air-carrier routes, where they transport both passengers and cargo from one destination to another. In a flying coffin. During repairs, you could easily be sucked into a jet engine. During routine flights, you could easily be hit by a flock of birds smashing through the screen of your cockpit, allowing you to be sucked at out 33,000 feet above ground. You may think those are the biggest health risks, but no, it's time spent sitting behind the controls of said aircraft. Bad for posture and spine, apparently.  </p><p>Top 3 health risks: Time spent sitting (93), exposure to radiation (73), exposure to contaminants (68) </p><h2 id="17">17. Water and Wastewater Treatment Plant and System Operators</h2> <p>Unhealthiness Rating: 58.2  </p><p>They control or operate an entire process or systems of machines that process water and wastewater. They do this most frequently via the use of control boards, used to transfer or treat water or wastewater. No, drowning is not one of their major health risks.  </p><p>Top 3 health risks: Exposure to contaminants (97), exposure to hazardous conditions (80), exposure to minor burns, cuts, stings or bites (74) </p><h2 id="18">18. Histotechnologists and Histologic Technicians</h2> <p>Unhealthiness Rating: 59.0  </p><p>They prepare histological slides from human, plant or animal tissue sections for microscopic examination and diagnosis by pathologists. For example, to determine cause of sudden death of a person.  </p><p>Top 3 health risks: Exposure to hazardous conditions (88), exposure to contaminants (76), exposure to disease and infections (75) </p><h2 id="19">19. Immigration and Customs Inspectors</h2> <p>Unhealthiness Rating: 59.3  </p><p>They do the thankless task of investigating and inspecting people, common carriers, goods, merchandise or anything else for that matter which arrives in or departs from the US or between state borders. They do so to detect violations of immigration and customs laws and regulations, such as the smuggling of drugs or endangered animals or plants for example.  </p><p>Top 3 health risks: Exposure to contaminants (78), exposure to disease and infections (63), exposure to radiation ( 62) </p><h2 id="20">20. Podiatrists</h2> <p>Unhealthiness score: 60.2  </p><p>They diagnose and treat diseases and deformities of people's feet. Stink inhalation isn't the only risk to health here...  </p><p>Top 3 health risks: Exposure to disease and infections (87), exposure to radiation (69), exposure to contaminants (67) </p><h2 id="21">21. Veterinarians and Veterinary Assistants and Technicians</h2> <p>Unhealthiness Rating: 60.3  </p><p>Most of them do NOT do the glamorous side of the job, like rubbing upset baby Panda tummies or treating cuddly tiger cubs for fleas. They diagnose, treat or research diseases and injuries of animals and perform medical tests in lab environments that are used in the treatment and diagnosis of diseases in animals. Think treating or diagnosing foot and mouth in cattle rather than drawing thorns out of lion's paws. The job description, incidentally, combines the related jobs of vets, their assistants, and lab animal caretakers and vet technologists and technicians working in such lab environments with animals.  </p><p>Top 3 health risks: Exposure to disease and infections (81), exposure to minor burns, cuts, stings or bites (75), exposure to contaminants (74)  </p><p>Resources: <br>To derive the rating, six health risks of all 974 occupations in the database were scored from 1-100 (the higher the score, the higher the risk). These six risks are exposure to contaminants; exposure to disease and infection; exposure to hazardous conditions; exposure to radiation; risk of minor burns, cuts, bites, and stings; and time spent sitting. </p></body></html>
    </div>

  </div>
</div>



<div class="max-w-3xl md:mx-auto my-16 mx-8 grid gap-y-16">

<div class="mx-auto grid grid-cols-2 gap-x-8 gap-y-20 lg:mx-0 lg:max-w-none xl:grid-cols-4">


</div>
<nav class="flex" aria-label="Breadcrumb">
  <ol role="list" class="flex items-center space-x-4">
    <li>
      <div>
        <a href="/" class="text-gray-400 hover:text-gray-500">
          <svg class="h-5 w-5 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
            <path fill-rule="evenodd" d="M9.293 2.293a1 1 0 011.414 0l7 7A1 1 0 0117 11h-1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-3a1 1 0 00-1-1H9a1 1 0 00-1 1v3a1 1 0 01-1 1H5a1 1 0 01-1-1v-6H3a1 1 0 01-.707-1.707l7-7z" clip-rule="evenodd" />
          </svg>
          <span class="sr-only">Home</span>
        </a>
      </div>
    </li>
    
    <li>
      <div class="flex items-center">
        <svg class="h-5 w-5 flex-shrink-0 text-gray-300" fill="currentColor" viewBox="0 0 20 20" aria-hidden="true">
          <path d="M5.555 17.776l8-16 .894.448-8 16-.894-.448z" />
        </svg>
        <a href="/money" class="ml-4 text-sm font-medium text-gray-500 hover:text-gray-700">
          Money
        </a>
      </div>
    </li>
    

  </ol>
</nav>

</div>


<div x-data="infinity" class="px-4 sm:px-6 mx-auto mt-16 max-w-6xl ">
        <div class="overflow-hidden my-4 grid grid-cols-3 gap-x-6 gap-6 rounded-t-[50px] md:rounded-t-[100px]">

        
        <template x-for="(item, index) in list" :key="index">
            
            <div  :id="'article-'+index" 
                x-transition
                :class="{'col-span-3 md:col-span-3 ': index % 5 === 0, 
                        'col-span-3 md:col-span-2 md:row-span-2': index % 5 === 1, 
                        'col-span-3 md:col-span-1 md:row-span-2': index % 5 === 2,
                        'col-span-3 md:col-span-1 ': index % 5 === 3,
                        'col-span-3 md:col-span-2 ': index % 5 === 4,
                        }"
                class="overflow-hidden">
                                
                <figure @click="select(item)" x-show="item.image" 
                    :class="{
                        'h-96 md:h-[600px] ': ( index % 5 === 0 ) ,
                        'h-48 md:h-[400px] rounded-br-[50px] md:rounded-xl ': index % 5 !== 0,
                    }"
                    class="hover:cursor-pointer bg-white overflow-hidden rounded-xl relative items-center justify-center">
                    
                    <!-- Image -->
                    <img 
                        :src="item.image" alt="" 
                        :class="'filter hue-rotate-'+item.hue+' rotate-'+item.rotation"
                        class="w-full h-full bg-gray-100 object-cover">

                    <!-- Shadow in the bottom left corner -->
                    <div class="absolute w-80 h-80 bg-black rounded-full blur-2xl opacity-50"
                        :class="{
                            '-bottom-1/4 -left-1/4': index % 5 === 2 || index % 5 === 3,
                            '-bottom-1/3': index % 5 === 1 || index % 5 === 4,
                            'bottom-1/2 left-1/2 transform -translate-x-1/2 translate-y-1/2': index % 5 === 0,
                            
                            }"
                    ></div>
                    
                    <!-- Title moved into the figure and styled text-black -->
                    
                    
                    
                    <a 
                        
                        class="absolute block font-bold tracking-tight drop-shadow-sm
                        bottom-0  
                        mx-2 sm:mx-4 lg:mx-8
                        py-2 sm:py-4 lg:py-8
                        "
                        :class="{
                            'text-xl sm:text-2xl lg:text-3xl xl:text-4xl pr-[30%] md:pr-20 text-white': index % 5 !== 0 ,
                            'bottom-auto top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center text-2xl sm:text-4xl md:text-5xl sm:px-10 text-white ': index % 5 === 0,
                        }"
                        >
                        <div x-text="item.category" 
                        class="capitalize text-sm text-white/50 py-2">
                        </div>
                        <span x-html="`${item.title}` " class="text-white"></span>
                    </a>

                </figure>
                <template x-if="index > 0 && index % 10 === 0">
                    <div class="col-span-3 my-6">
                        
                        <div x-data="subscribe" class="bg-white py-16 sm:py-24 lg:py-32 max-w-3xl mx-auto">
  <div x-show="msg" class="sm:text-center max-w-2xl text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">
    <p x-text="msg" class="inline sm:block"></p>
  </div>
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="sm:text-center max-w-2xl text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">
      <h2 class="inline sm:block"></h2> 
      <p class="inline sm:block">Sign up for our newsletter.</p>
    </div>

    <form @submit.prevent="subscribe()"  class="mt-10 max-w-md sm:mx-auto">
      <div class="flex gap-x-4">
        <label for="email-address" class="sr-only">Email address</label>
        <input x-model="email" id="email-address" name="email" type="email" autocomplete="email" required class="min-w-0 flex-auto rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" placeholder="Enter your email">
        <button type="submit" class="flex-none rounded-md bg-black px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-gray-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-600">Subscribe</button>
      </div>
      <p class="mt-4 text-xs leading-6 text-gray-900">We care about your data. Read our <a href="#" class="font-semibold text-indigo-600 hover:text-indigo-500">privacy&nbsp;policy</a>.</p>
    </form>
  </div>
</div>
<script> 
  function subscribe() {
    return {
      email: '',
      msg: false ,
      subscribe() {
        this.msg = "Sending...";

        // Post to endpoint https://us-central1.gcp.data.mongodb-api.com/app/azo-content-yknmr/endpoint/subscribe with email and current address
        const endpoint = "https://us-central1.gcp.data.mongodb-api.com/app/azo-content-yknmr/endpoint/subscribe";
        fetch(endpoint, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ email: this.email, address: window.location.href }),
        }).then(response => {
          if (response.ok) {
            return response.json();
          }
          throw new Error('Network response was not ok.');
        }).then(data => {
          console.log(data);
          this.msg= "Thank you for subscribing.";
        }).catch(error => {
          console.error('There has been a problem with your fetch operation:', error);
        });
      },

    }
  }
</script>

                        
                        
                    </div>

                </template>

            </div>
            
        </template>
        </div>
    
    <div id="loading"></div>
    <div x-cloak x-show="currentTitle" id="modal"  class="relative z-10">
  <!-- Overlay -->
  

  <!-- Modal Content -->
  <div x-ref="modal" @click.away="currentTitle = null" @keyup.escape.window="currentTitle = null"  class="fixed top-12 inset-0 overflow-y-auto bg-gray-50 items-center justify-center ">
    <!-- Close Button -->
    <button 
      @click="currentTitle = null"
      type="button" 
      class="fixed right-0 m-4 lg:m-6 xl:m-10 rounded-full bg-black/50 text-gray-300 hover:text-white focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 z-50">
      <span class="sr-only">Close</span>
      <svg class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" />
      </svg>
    </button>

    <!-- Figure Section -->
    <figure class="overflow-hidden relative items-center justify-center md:p-2 lg:p-4 xl:p-8">
        <!-- Image -->
        <img :src="currentTitle.image" x-transition alt=""
            :class="'filter hue-rotate-'+currentTitle.hue+' rotate-'+currentTitle.rotation"
            class="aspect-[16/9] w-full bg-gray-100 object-cover md:rounded-md lg:rounded-lg">

        <!-- Title -->
        <a x-html="currentTitle.title"
            x-transition
            class="absolute mx-8 block py-8 max-w-md text-2xl md:text-3xl lg:text-4xl xl:text-5xl font-bold tracking-tight text-white sm:text-3xl drop-shadow-sm bottom-0 
            sm:bottom-auto sm:top-1/2 sm:left-1/2 sm:transform sm:-translate-x-1/2 sm:-translate-y-1/2 sm:text-center sm:max-w-xl">
        </a>

    </figure>

    <!-- Loading Spinner -->
    <div x-show="loading" class="py-4">
        <svg class="animate-spin mx-auto h-5 w-5 text-pink-700" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
        <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
        <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
  </svg>
    </div>

    <!-- Article Section -->
    <article x-data="{ show: false }" class="max-w-xl mx-auto my-10 px-8 border-3 border-red-500 overflow-hidden">
      <section 
        x-show="currentTitle.html" 
        x-html="currentTitle.html" 
        :id="'article-' + index" 
        class="prose prose-sm">
      </section>
    </article>

    <div x-show="currentTitle.html" class="max-w-xl mx-auto">
        
        
    </div>

    <div x-show="currentTitle.html && list.length>0" class="overflow-hidden rounded-lg border border-gray-300 max-w-xl mx-auto md:mx-auto my-10">
        <ul class="divide-y divide-gray-300">
            <template x-for="item in list.sort(() => 0.5 - Math.random()).slice(0,10)">
                <li @click="$refs.modal.scrollTo({ top: 0, behavior: 'smooth' }); select(item); " class="text-sm px-4 py-2 relative flex justify-between items-center cursor-pointer">
                    <span x-text="item.title" class="whitespace-nowrap overflow-hidden text-ellipsis"></span>
                    <span type="button" class="-rotate-90 ml-auto pl-2 py-1 text-xs font-semibold text-gray-900">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-4">
                            <path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5" />
                        </svg>
                    </span>
                </li>
            </template>
        </ul>
    </div>

    
    <div class="flex items-center justify-center">

    <button @click="currentTitle = null" class="my-4 bg-gray-700 text-white text-sm font-semibold px-4 py-2 rounded-lg shadow-md">
      <span>Close</span>
    </button>

    </div>

  </div>
</div>

</div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/showdown/2.1.0/showdown.min.js" integrity="sha512-LhccdVNGe2QMEfI3x4DVV3ckMRe36TfydKss6mJpdHjNFiV07dFpS2xzeZedptKZrwxfICJpez09iNioiSZ3hA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
    console.log('infinity');
    var converter = new showdown.Converter();
    function infinity() {
        return {
            type: 'feed',
            host: '',
            url: "",
            postid: "",
            category: "" || 'love',
            index : 0,
            page: 0,
            bg: [],
            currentTitle: null,
            list: [],
            observer: null,
            loading: false,
            sample: 10,

            async init() {
                console.log('Infinity initialized');
                // this.observeInfinity();
                await this.getbg();
                this.loadList();
                
            },
            getbg(){
                url = 'https://bg.azo.workers.dev/?count=10'
                fetch(url)
                    .then(response => {
                        return response.json();
                    })
                    .then(data => {
                        this.bg = data
                        console.log('Fetched bg:', this.bg);
                        
                    })
                    .catch(error => {
                        console.error('Error fetching data:', error);
                    });
            },

            pageclose() {
                window.addEventListener('beforeunload', (event) => {
                    console.log('Page close event:', event);
                    obj = {
                        type: 'infinityclose',
                        action: 0,
                        post_id: this.postid,
                        item: { 
                            label: this.index, 
                            page: window.location.href,
                            event: event
                        }
                    };
                    this.beaconTrack(obj);

                });
            },  

            observeInfinity() {
                console.log('Observing infinity div');
                this.$nextTick(() => {
                    const infinityElement = document.getElementById('loading');
                    if (!infinityElement) {
                        console.error('Infinity element not found');
                        return;
                    }

                    // Disconnect any previous observer
                    if (this.observer) {
                        this.observer.disconnect();
                    }

                    // Create a new observer
                    this.observer = new IntersectionObserver((entries) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                console.log('Infinity div in view');
                                this.loadList();
                                this.pageclose();

                                // Unobserve if no need for repeated actions
                                // Remove this line if you want repeated triggering
                                // this.observer.unobserve(entry.target);
                            }
                        });
                    }, {
                        rootMargin: '0px 0px 0px 0px',
                        threshold: 0.1
                    });

                    // Start observing the element
                    this.observer.observe(infinityElement);
                });
            },

            async loadList() {
                // const url = `https://pub-ff359827c45e40a7b6e9bad1878cd18a.r2.dev/feed/${this.category}.json`;
                url = 'https://us-east-1.aws.data.mongodb-api.com/app/azoio-evvkb/endpoint/topics';

                if (!url) {
                    console.error('Neither postFeed nor categoryFeed are available.');
                    return;
                }

                console.log('Using URL:', url);

                try {
                    const response = await fetch(url, {
                        method: 'POST', // Specify POST method
                        headers: {
                            'Content-Type': 'application/json' // Specify JSON content type
                        },
                        body: JSON.stringify({ // Convert the body object to a JSON string
                            host: this.host,
                            sample: this.sample || false
                            //category: "Fitness & Lifestyle"
                        })
                    });
                    const data = await response.json();
                    
                    
                    console.log('Fetched data:', data);

                    let filteredList = data
                        .filter(item => item.url !== this.url)
                        .sort(() => Math.random() - 0.5)
                        // .sort((a, b) => Number(b.exist) - Number(a.exist));



                    filteredList.forEach((item, index) => {
                        // if (item.exists) { 
                            console.log('Item exists:', item, "Observing article:", index);
                            length = item.outline?.length;
                            if (length > 4) {
                                item.outline = item.outline.slice(0, 3);
                                item.outline.push('... '+ (length - 3) + ' more ...');
                            }
                            // random bg
                            console.log('Setting bg')
                            item.image = this.bg[Math.floor(Math.random() * this.bg.length)];
                            hues = [0, 15, 30, 60, 90]
                            item.hue = hues[Math.floor(Math.random() * hues.length)];
                            rotations = [0, 180]
                            item.rotation = rotations[Math.floor(Math.random() * rotations.length)];
                            this.observeArticle(index);
                        // }
                    });
                    console.log('Filtered list:', filteredList.map(item => item.title));
                    
                    //this.feed.push(filteredList.slice(0, 10));
                    // console.log('feed:', this.feed);
                    this.list = this.list.concat(filteredList);

                } catch (error) {
                    console.error('Error fetching data:', error);
                }

            },
            async getArticle(url, index) {
                if (!url) return;
                console.log('Fetching article content from:', url);

                try {
                    const response = await fetch(url);
                    const html = await response.text();
                    const parser = new DOMParser();
                    const doc = parser.parseFromString(html, 'text/html');
                    const pages = doc.querySelectorAll('article.post.prose');
                    
                    let content = '';
                    pages.forEach(page => {
                        content += page.innerHTML;
                    });

                    if (this.list[index]) {
                        this.list[index].html = content || '';
                        console.log('Article HTML:', this.list[index].html);

                        if (this.list[index].html.length < 10) {
                            console.log('Content length:', this.list[index].html.length);
                        }
                    }
                } catch (error) {
                    console.error('Error fetching article:', error);
                }

                if (index === this.list.length - 1) {
                    this.page++;
                    this.loadList();
                }
            },
            async getContent(item) {
                this.loading = true;    
                console.log('Fetching content for:', item);

                const url = `https://us-east-1.aws.data.mongodb-api.com/app/azoio-evvkb/endpoint/create?id=${item._id}`;
                console.log('Content URL:', url);

                try {
                    const response = await fetch(url);
                    const data = await response.json();
                    // const listItem = this.list.find(el => el._id === item._id);

                    try {
                        if (!window.showdown) {
                            console.log('loading showdown');
                            await loadJs('https://cdn.jsdelivr.net/npm/showdown/dist/showdown.min.js');
                        }
                        if (!window.converter) {
                            window.converter = new showdown.Converter();
                        }
                        
                    } catch (error) {
                        console.error(error);
                    }

                    data.html = converter.makeHtml(data.content.replace(/#.*\n/, ''));
                    this.loading = false;
                    return data;
  
                } catch (error) {
                    console.error('Error fetching content:', error);
                }
            },


            observeArticle(index) {
                this.$nextTick(() => {
                    const articleElement = document.getElementById(`article-${index}`);
                    
                    if (!articleElement) return;

                    const observer = new IntersectionObserver((entries) => {
                        entries.forEach(entry => {
                            if (entry.isIntersecting) {
                                console.log('Article in view:', index);
                                this.index = index;
                                // this.getContent(this.list[index]);
                                observer.unobserve(entry.target);
                                if (index === this.list.length - 1) {
                                    console.log('Last article in view:', index);
                                    this.loadList();
                                }
                            }
                        });
                    }, {
                        rootMargin: '0px 0px 200px 0px',
                        threshold: 0.1
                    });

                    observer.observe(articleElement);
                });
            },
            async select(item) {
                // item.html = "Loading...";
                console.log('Expanding item:', item);
                const event = { 
                    label: 'expand', 
                    page: window.location.href, 
                    item: item.title
                };
                const obj = {
                    type: 'infinity',
                    action: 1,
                    post_id: this.postid,
                    item: event
                };
                
                this.currentTitle = item

                this.currentTitle = {...item, ... await this.getContent(item)};
                this.beaconTrack(obj);
            },

            beaconTrack(data) {
                const trackAPI = 'https://us-central1.gcp.data.mongodb-api.com/app/allwomenstalk-ebogu/endpoint/beacon';
                const beaconData = new Blob([JSON.stringify(data)], { type: 'application/json' });
                navigator.sendBeacon(trackAPI, beaconData);
            },
            subscribe: [""],
            cta: [""]
        };
    }

    const sliceTo2DArray = (array, chunkSize) => Array.from({ length: Math.ceil(array.length / chunkSize) }, (_, i) => array.slice(i * chunkSize, i * chunkSize + chunkSize));

</script>  




    
    <div x-data="subscribe" class="bg-white py-16 sm:py-24 lg:py-32 max-w-3xl mx-auto">
  <div x-show="msg" class="sm:text-center max-w-2xl text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">
    <p x-text="msg" class="inline sm:block"></p>
  </div>
  <div class="mx-auto max-w-7xl px-6 lg:px-8">
    <div class="sm:text-center max-w-2xl text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">
      <h2 class="inline sm:block"></h2> 
      <p class="inline sm:block">Sign up for our newsletter.</p>
    </div>

    <form @submit.prevent="subscribe()"  class="mt-10 max-w-md sm:mx-auto">
      <div class="flex gap-x-4">
        <label for="email-address" class="sr-only">Email address</label>
        <input x-model="email" id="email-address" name="email" type="email" autocomplete="email" required class="min-w-0 flex-auto rounded-md border-0 px-3.5 py-2 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" placeholder="Enter your email">
        <button type="submit" class="flex-none rounded-md bg-black px-3.5 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-gray-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-gray-600">Subscribe</button>
      </div>
      <p class="mt-4 text-xs leading-6 text-gray-900">We care about your data. Read our <a href="#" class="font-semibold text-indigo-600 hover:text-indigo-500">privacy&nbsp;policy</a>.</p>
    </form>
  </div>
</div>
<script> 
  function subscribe() {
    return {
      email: '',
      msg: false ,
      subscribe() {
        this.msg = "Sending...";

        // Post to endpoint https://us-central1.gcp.data.mongodb-api.com/app/azo-content-yknmr/endpoint/subscribe with email and current address
        const endpoint = "https://us-central1.gcp.data.mongodb-api.com/app/azo-content-yknmr/endpoint/subscribe";
        fetch(endpoint, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ email: this.email, address: window.location.href }),
        }).then(response => {
          if (response.ok) {
            return response.json();
          }
          throw new Error('Network response was not ok.');
        }).then(data => {
          console.log(data);
          this.msg= "Thank you for subscribing.";
        }).catch(error => {
          console.error('There has been a problem with your fetch operation:', error);
        });
      },

    }
  }
</script>

    


<div class="text-center justify-center flex">
              
            <img src="data:image/svg+xml;utf8,&lt;svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;200&quot; height=&quot;100&quot; viewBox=&quot;0 0 200 100&quot;&gt;
  &lt;text x=&quot;10&quot; y=&quot;50&quot; font-family=&quot;Arial, sans-serif&quot; font-size=&quot;40&quot; fill=&quot;black&quot;&gt;ramaki&lt;/text&gt;
&lt;/svg&gt;" alt="" class="h-10 w-auto">
          
</div>
<footer class="bg-white">
  <div class="mx-auto max-w-7xl overflow-hidden px-6 py-20 sm:py-24 lg:px-8">
    <nav class="-mb-6 columns-2 sm:flex sm:justify-center sm:space-x-12" aria-label="Footer">
    
      <div class="pb-6">
        <a href="/about" class="text-sm leading-6 text-gray-600 hover:text-gray-900">About</a>
      </div>
    
      <div class="pb-6">
        <a href="/privacy-policy" class="text-sm leading-6 text-gray-600 hover:text-gray-900">Privacy Policy</a>
      </div>
    
      <div class="pb-6">
        <a href="/terms-of-service" class="text-sm leading-6 text-gray-600 hover:text-gray-900">Terms of Service</a>
      </div>
    
      <div class="pb-6">
        <a href="/contacts" class="text-sm leading-6 text-gray-600 hover:text-gray-900">Contacts</a>
      </div>
    
      <div class="pb-6">
        <a href="/archive/" class="text-sm leading-6 text-gray-600 hover:text-gray-900">Archive</a>
      </div>
      <div class="pb-6">
        <a href="/articles/" class="text-sm leading-6 text-gray-600 hover:text-gray-900">Articles</a>
      </div>

      
    </nav>
    <div class="mt-10 flex sm:justify-center space-x-10">
      <a href="#" class="text-gray-400 hover:text-gray-500">
        <span class="sr-only">Facebook</span>
        <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" />
        </svg>
      </a>
      <a href="#" class="text-gray-400 hover:text-gray-500">
        <span class="sr-only">Instagram</span>
        <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z" clip-rule="evenodd" />
        </svg>
      </a>
      <a href="#" class="text-gray-400 hover:text-gray-500">
        <span class="sr-only">X</span>
        <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path d="M13.6823 10.6218L20.2391 3H18.6854L12.9921 9.61788L8.44486 3H3.2002L10.0765 13.0074L3.2002 21H4.75404L10.7663 14.0113L15.5685 21H20.8131L13.6819 10.6218H13.6823ZM11.5541 13.0956L10.8574 12.0991L5.31391 4.16971H7.70053L12.1742 10.5689L12.8709 11.5655L18.6861 19.8835H16.2995L11.5541 13.096V13.0956Z" />
        </svg>
      </a>
      <a href="#" class="text-gray-400 hover:text-gray-500">
        <span class="sr-only">GitHub</span>
        <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd" />
        </svg>
      </a>
      <a href="#" class="text-gray-400 hover:text-gray-500">
        <span class="sr-only">YouTube</span>
        <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
          <path fill-rule="evenodd" d="M19.812 5.418c.861.23 1.538.907 1.768 1.768C21.998 8.746 22 12 22 12s0 3.255-.418 4.814a2.504 2.504 0 0 1-1.768 1.768c-1.56.419-7.814.419-7.814.419s-6.255 0-7.814-.419a2.505 2.505 0 0 1-1.768-1.768C2 15.255 2 12 2 12s0-3.255.417-4.814a2.507 2.507 0 0 1 1.768-1.768C5.744 5 11.998 5 11.998 5s6.255 0 7.814.418ZM15.194 12 10 15V9l5.194 3Z" clip-rule="evenodd" />
        </svg>
      </a>
    </div>
    <p class="mt-10 sm:text-center text-xs leading-5 text-gray-500">&copy; 2024 , Inc. All rights reserved.</p>
  </div>
</footer>

  </body>
</html>
